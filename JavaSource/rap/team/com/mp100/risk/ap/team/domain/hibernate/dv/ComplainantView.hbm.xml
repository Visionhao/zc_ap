<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping package="com.mp100.risk.ap.team.domain.hibernate.dv">
    <class name="ComplainantView" table="x_ap_complainant">
        <comment>投诉审核人模式表</comment>
       <id name="complaintId" type="java.lang.String">
            <column name="COMPLAINT_ID" length="32">
            	<comment>投诉标识</comment>
            </column>
            <generator class="uuid.hex"></generator>
        </id>
        <property name="membersId" type="java.lang.String">
            <column name="MEMBERS_ID" length="32">
                <comment>审核员标识</comment>
            </column>
        </property>
        <property name="jobNumber" type="java.lang.String">
            <column name="JOB_NUMBER" length="10">
                <comment>工号</comment>
            </column>
        </property>
        <property name="chnName" type="java.lang.String">
            <column name="CHN_NAME" length="10">
                <comment>名字</comment>
            </column>
        </property>
        <property name="createDate" type="java.util.Date">
            <column name="CREATE_DATE" length="10">
                <comment>加入日期</comment>
            </column>
        </property>
        <property name="month" type="java.lang.String">
            <column name="MONTH" length="50">
                <comment>月份</comment>
            </column>
        </property>
        <property name="examineNum" type="java.lang.Integer">
            <column name="EXAMINE_NUM" length="10">
                <comment>审批量</comment>
            </column>
        </property>
        <property name="complaintNum" type="java.lang.Integer">
            <column name="COMPLAINT_NUM" length="10">
                <comment>投诉量</comment>
            </column>
        </property>
        <property name="complaintRate" type="java.lang.Double">
            <column name="COMPLAINT_RATE" length="10">
                <comment>投诉率</comment>
            </column>
        </property>
        <property name="interceptNum" type="java.lang.Integer">
            <column name="INTERCEPT_NUM" length="10">
                <comment>拦截量</comment>
            </column>
        </property>
        <property name="passNum" type="java.lang.Integer">
            <column name="PASS_NUM" length="10">
                <comment>放行量</comment>
            </column>
        </property>
    </class>
    <sql-query name="com.mp100.risk.ap.team.domain.hibernate.dv.queryComplainantViewDV">
       <return alias="ComplainantView" class="com.mp100.risk.ap.team.domain.hibernate.dv.ComplainantView"></return>
     <![CDATA[
			select 
					c.COMPLAINT_ID as COMPLAINT_ID,
					c.MEMBERS_ID as MEMBERS_ID,
					m.JOB_NUMBER as JOB_NUMBER,
					m.CHN_NAME as CHN_NAME,
					m.CREATE_DATE as CREATE_DATE,
			     	c.MONTH as MONTH,
			     	nvl(c.EXAMINE_NUM,0) as EXAMINE_NUM,
			     	nvl(c.COMPLAINT_NUM,0) as COMPLAINT_NUM,
			     	nvl(c.COMPLAINT_RATE,0) as COMPLAINT_RATE,
			     	c.INTERCEPT_NUM,
			     	c.PASS_NUM
			from
					x_ap_complainant c,x_ap_members m
			where   
					m.MEMBERS_ID = c.MEMBERS_ID
					and c.MONTH in (:QD_months) 
			order by 
					c.MONTH desc
      ]]>
    </sql-query>
    
    <sql-query name="com.mp100.risk.ap.team.domain.hibernate.dv.querySumDV">
       <return alias="ComplainantView" class="com.mp100.risk.ap.team.domain.hibernate.dv.ComplainantView"></return>
     <![CDATA[
			select 
					sys_guid() as COMPLAINT_ID,
					m.MEMBERS_ID as MEMBERS_ID,
					'' JOB_NUMBER,
					''  CREATE_DATE,
			     	''  MONTH,
			     	sum(c.EXAMINE_NUM) as EXAMINE_NUM,
			     	sum(c.COMPLAINT_NUM) as COMPLAINT_NUM,
            		'' CHN_NAME, 
			     	sum(c.COMPLAINT_RATE) as COMPLAINT_RATE,
			     	sum(c.INTERCEPT_NUM) as INTERCEPT_NUM,
			     	sum(c.PASS_NUM) as PASS_NUM
			from
					x_ap_complainant c,x_ap_members m
			where   
					m.MEMBERS_ID = c.MEMBERS_ID
					and c.MONTH in (:QD_months) 
			group by 
					m.MEMBERS_ID		
      ]]>
    </sql-query>
    
    <sql-query name="com.mp100.risk.ap.team.domain.hibernate.dv.queryexistListDV">
       <return alias="ComplainantView" class="com.mp100.risk.ap.team.domain.hibernate.dv.ComplainantView"></return>
     <![CDATA[
			select 
					c.COMPLAINT_ID,
					'' MEMBERS_ID,
					'' JOB_NUMBER,
					'' CREATE_DATE,
			     	'' MONTH,
			     	c.EXAMINE_NUM,
			     	c.COMPLAINT_NUM,
            		m.CHN_NAME, 
			     	c.COMPLAINT_RATE,
			     	c.INTERCEPT_NUM,
			     	c.PASS_NUM
			from
					x_ap_complainant c,x_ap_members m
			where
					c.MEMBERS_ID=m.MEMBERS_ID	
      ]]>
    </sql-query>
  
</hibernate-mapping>
